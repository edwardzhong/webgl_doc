### 线性代数

#### 向量

向量是有大小和方向的有向线段

向量的大小就是向量的长度 (模)

向量的方向描述了空间中向量的指向

1. 向量的模, 即向量的长度

   $ |v|= sqrt(aˆ2+bˆ2);$

   $    |v|= sqrt(aˆ2+bˆ2+cˆ2);$

   

2. 向量乘以标量或者除以标量,相当于以因子 k 来缩放向量的长度

   $ax'=ax•k$ 

   $by'=by•k$



3. 向量之间的加减法引导出了三角形法则,即将向量的首尾相连就会得到加法的结果

   $cx=ax ± bx$ 

   $cy=by ± by$
   
   

4. 两点的距离: 在3D中,已知两点a,b,求两点之间的距离d？我们可以将a,b两点看做向量,然后b-a就是向量d,然后我们再计算向量d的模就是两点间的距离

   $|d|= sqrt((bx-ax)ˆ2+(by-ay)ˆ2)$

   $|d|= sqrt((bx-ax)ˆ2+(by-ay)ˆ2+(bz-az)ˆ2)$



5. 向量的点积,向量的点乘描述的是两个向量之间的夹角Ø的大小,即余弦值，

   $a•b = ax•bx + ay•by$ 

   $a•b = ax•bx + ay•by + az•bz$

   $a•b =|a||b|•cosØ$

   * \> 0 表示小于90°
   * = 0 表示等于90°
   * < 0 表示大于90°



6. 向量的叉积，两个向量叉乘只在3D空间中有意义，因为叉乘的结果向量的方向与两个相乘向量都是垂直的。在2D空间里，无法找到一个能与两条相交的直线都垂直的直线，但在3D空间中易如反掌！在3D图形学中主要应用在计算三角形等表面的法向量

   $a × b = (ay • bz  – az • by , az • bx – ax • bz , ax • by – ay • bx)$

   $|w| = |a||b|• sinØ$

   * w是两个向量之间最小的夹角
   * w 与 a，b 垂直
   * w，a，b 符合右手定则



#### 齐次坐标

在3D世界中表示一个点的方式是 (x, y, z)，在3D世界中表示一个向量的方式也是 (x, y, z)
为了区分点和向量我们给它加上一维，即 ( x, y, z, w) ，这种用 n+1 维坐标表示 n 维坐标的方式称为齐次坐标。
引入齐次坐标的重要原因是可以使用 4 x 4 矩阵对点和向量进行变换

(x, y, z, 0 ) 等 w = 0 表示一个向量;

(x, y, z, 1) , (x', y', z', 2) 等 w ≠ 0  表示点



#### 矩阵  

向量是标量的数组,矩阵是向量的数组

1. 2 x 2矩阵, 由向量 [ax,ay] [bx,by] 组成
  |ax bx| 
  |ay by| 
       

  3 x 3矩阵, 由向量[ax,ay,az] [bx,by,bz] [cx,cy,cz]组成
  |ax  bx  cx| 
  |ay  by  cy| 
  |az  bz  cz| 
       
  
2. 标量和矩阵相乘

   标量k和矩阵M相乘会得到一个和原矩阵维数相同的矩阵N,矩阵N的每个元素等于矩阵M的每个元素与标量k相乘,和向量的原理一样, 它代表的意义是缩放矩阵
   k x |a b| = |a•k b•k|
         |c d|     |c•k c•k|

   

4. 向量与矩阵相乘

   因为向量也属于矩阵,所以也必须要满足矩阵与矩阵的乘法规则,所以对于行向量而言,行向量要左乘矩阵,对于列向量而言,列向量要右乘矩阵。

   对于2D向量v乘以矩阵M得到的依然是2D向量(3D向量同理),所以我们可以理解矩阵M是对向量v的一种坐标变换。可以把列[a,c]和列[b,d]看成变换后的基向量
   
   [x,y] • |a b| = [x',y']
              |c d|
   
   x' = a•x + b•y
   y' = c•x + d•y
   
    
   
   向量与矩阵相乘,本质就是坐标的转换,下面是矩阵对应的函数关系推导,用变换前的向量坐标和变换后的向量坐标代入多项式函数,则可以方向求出 a,b,c,d值,即是变换矩阵
   |a b|x|x| = x•|a| + y•|b| = |ax + by|
   |c d|  |y|        |c|        |d|    |cx + dy|
       
   
4. 矩阵与矩阵相乘

    矩阵A的列数等于矩阵B的行数时，它们才能相乘。矩阵A行数m，列数p (m x p)；矩阵B行数p，列数n (p x n)。则它们相乘会得到一个 m 行 n 列(m x n) 的矩阵。

    [m, p] x [p, n] = [m, n]

    矩阵的顺序很重要 M•N ≠ N•M，换个说法，矩阵相乘不符合交换律。

    

6. 单位矩阵和逆矩阵

  单位矩阵行数等于列数，对角位置=1，其余为0，下面是 4x4的单位矩阵
  
  |1   0   0   0| 
|0   1   0   0| 
  |0   0   1   0|
  |0   0   0   1| 
  
  矩阵M乘单位矩阵I，结果还是矩阵M，即 
  
  M• I = M
  
  对于任意数x，倒数是 1/x，逆矩阵就是矩阵的"倒数"，矩阵M的逆矩阵是 M`
  
  同理 矩阵M乘以逆矩阵，结果为单位矩阵，只有方阵(行数等于列数) 才有逆矩阵
  
  M • Mˆ1= Mˆ1 • M = I
  
    
  
7. 转置矩阵
  
  矩阵M转置后得到的另一个矩阵M˜，它的行是M的列，它的列是M的行。3D图形学中矩阵的转置和求逆常用于计算法线的变换。
  
  假如矩阵M为
  
  |0   4    8   12| 
  |1   5    9   13| 
  |2   6   10  14|
  |3   7   11  15| 
  
  那么M的转置矩阵M˜ 为
  
  |0     1     2     3| 
  |4     5     6     7| 
  |8     9    10  11|
  |12  13  14   15| 
  
  
  
7. 矩阵变换

    矩阵变换是以顶点或向量为运算对象
    顶点或向量(x,y) 在坐标空间转换后到达新的位置 (x',y') , 中间转换因子就是 <变换矩阵>

    (x , y) • <变换矩阵> = (x' , y')

    

    <变换矩阵> 可以看成 单位向量 (1,1) 或 基向量 (1,0) (0,1) 在坐标空间内位移，旋转，缩放的集合，写成矩阵形式就是单位矩阵
    |1  0  0|
    |0  1  0|
    |0  0  1| 

    

    复合变换

    一个特殊的变换是线性变换，它保持矢量相加运算和标量相乘运算不变性，这就是复合变换的基础。比如

     <旋转再斜切的复合矩阵> = <斜切矩阵> • <旋转矩阵> (注意矩阵相乘顺序)

    f (u) + f (v) = f (u + v)

    k • f (u) = f (k•u)

    

    3D图形中，点或向量的线性变换使用3x3矩阵表示，但它不能进行最基本的平移变换，因此再加一维变成 4x4矩阵，也就是齐次坐标，就能完美表示平移

    |1   0   0   tx| 
    |0   1   0   ty| 
    |0   0   1   tz|
    |0   0   0   1 | 

    

    绕z旋转Ø角度的矩阵 (坐标系方向: 向右为+x, 向上为+y)
    |cosØ  -sinØ    0|
    |sinØ   cosØ    0|
    |0         0           1|

    

    因此绕z轴旋转90度的矩阵结果是
    |0  -1   0|
    |1   0   0|
    |0   0   1|

    

8. 正交投影, 投影就是意味着降维操作,二维进行降维就变成了一维,三维进行降维就变成了二维。其实用数据来表示就是对应的坐标轴的数值变为了0

   投影到yz平面的矩阵 (x为0,其余坐标保持原来的值)
            |0  0  0|
    M = |0  1  0|
            |0  0  1|

   

    投影到xz平面的矩阵 (y为0,其余坐标保持原来的值)
            |1  0  0|
    M = |0  0  0|
            |0  0  1|

   

    投影到xy平面的矩阵 (z为0,其余坐标保持原来的值)
            |1  0  0|
    M = |0  1  0|
            |0  0  0|

#### 微积分

求相乘函数导数：左乘右导,右乘左导,然后相加

泰勒多项式